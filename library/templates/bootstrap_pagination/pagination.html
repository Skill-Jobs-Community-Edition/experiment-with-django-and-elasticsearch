{% load bootstrap_pagination %}
<nav aria-label="The pagination of search results">
    <ul class="pagination{% if size == "small" %} pagination-sm{% endif %}{% if size == "large" %} pagination-lg{% endif %}{% block extra_classes %}{% endblock %}">
    {% if show_first_last %}
        {% if not page.has_previous %}
          <li class="page-item disabled">
            <span>{{ first_label }}</span>
          </li>
        {% else %}
          <li class="page-item">
            <a title="First Page" href="{{ first_page_url|default:"#"|escape }}" class="page-link">{{first_label}}</a>
          </li>
        {% endif %}
    {% endif %}
    {% if show_prev_next %}
        {% if not page.has_previous %}
          <li class="page-item disabled">
            <span title="Previous Page" class="page-link">{{ previous_label }}</span>
          </li>
        {% else %}
          <li class="page-item">
            <a title="Previous Page" href="{{ previous_page_url|default:"#"|escape }}" class="page-link">{{ previous_label }}</a>
          </li>
        {% endif %}
    {% endif %}
    {% for pagenum, index_range, url in page_urls %}
        {% if page.number == pagenum %}
            <li class="page-item active">
                <span title="Current Page" class="page-link">{% if show_index_range %} {{ index_range }} {% else %} {{ pagenum }} {%endif %}</span>
            </li>
        {% else %}
            <li class="page-item">
                <a title="Page {{ pagenum }} of {{ page.paginator.num_pages }}" href="{{ url|escape }}" class="page-link">{% if show_index_range %} {{ index_range }} {% else %} {{ pagenum }} {%endif %}</a>
            </li>
        {% endif %}
    {% endfor %}
    {% if show_prev_next %}
        {% if not page.has_next %}
          <li class="page-item disabled">
            <span title="Next Page" class="page-link">{{ next_label }}</span>
          </li>
        {% else %}
          <li class="page-item">
            <a title="Next Page" href="{{ next_page_url|default:"#"|escape }}" class="page-link">{{ next_label }}</a>
          </li>
        {% endif %}
    {% endif %}
    {% if show_first_last %}
        {% if not page.has_next %}
          <li class="page-item disabled">
            <span title="Last Page" class="page-link">{{ last_label }}</span>
          </li>
        {% else %}
          <li class="page-item">
            <a title="Last Page" href="{{ last_page_url|default:"#"|escape }}" class="page-link">{{last_label}}</a>
          </li>
        {% endif %}
    {% endif %}
    </ul>
</nav>